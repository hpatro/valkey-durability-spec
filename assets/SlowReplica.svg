<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="892px" preserveAspectRatio="none" style="width:772px;height:892px;background:#FFFFFF;" version="1.1" viewBox="0 0 772 892" width="772px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="67.29" y2="814.0723"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="304.9082" x2="304.9082" y1="67.29" y2="814.0723"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="453.6914" x2="453.6914" y1="67.29" y2="814.0723"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="577.6709" x2="577.6709" y1="67.29" y2="814.0723"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="711.5127" x2="711.5127" y1="67.29" y2="814.0723"/><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.3584" x="21" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3584" x="28" y="56.3027">Primary</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.3584" x="21" y="813.0723"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3584" x="28" y="833.375">Primary</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.7832" x="235.9082" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.7832" x="242.9082" y="56.3027">Replica 1 (healthy)</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.7832" x="235.9082" y="813.0723"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.7832" x="242.9082" y="833.375">Replica 1 (healthy)</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.9795" x="384.6914" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.9795" x="391.6914" y="56.3027">Replica 2 (lagging)</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.9795" x="384.6914" y="813.0723"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.9795" x="391.6914" y="833.375">Replica 2 (lagging)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.582" x="534.6709" y="64.3027">Primary Log</text><path d="M559.9619,15 C559.9619,5 577.9619,5 577.9619,5 C577.9619,5 595.9619,5 595.9619,15 L595.9619,41 C595.9619,51 577.9619,51 577.9619,51 C577.9619,51 559.9619,51 559.9619,41 L559.9619,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M559.9619,15 C559.9619,25 577.9619,25 577.9619,25 C577.9619,25 595.9619,25 595.9619,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.582" x="534.6709" y="826.375">Primary Log</text><path d="M559.9619,839.3623 C559.9619,829.3623 577.9619,829.3623 577.9619,829.3623 C577.9619,829.3623 595.9619,829.3623 595.9619,839.3623 L595.9619,865.3623 C595.9619,875.3623 577.9619,875.3623 577.9619,875.3623 C577.9619,875.3623 559.9619,875.3623 559.9619,865.3623 L559.9619,839.3623 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M559.9619,839.3623 C559.9619,849.3623 577.9619,849.3623 577.9619,849.3623 C577.9619,849.3623 595.9619,849.3623 595.9619,839.3623 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9658" x="663.5127" y="64.3027">Replica 2 Log</text><path d="M693.9956,15 C693.9956,5 711.9956,5 711.9956,5 C711.9956,5 729.9956,5 729.9956,15 L729.9956,41 C729.9956,51 711.9956,51 711.9956,51 C711.9956,51 693.9956,51 693.9956,41 L693.9956,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M693.9956,15 C693.9956,25 711.9956,25 711.9956,25 C711.9956,25 729.9956,25 729.9956,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9658" x="663.5127" y="826.375">Replica 2 Log</text><path d="M693.9956,839.3623 C693.9956,829.3623 711.9956,829.3623 711.9956,829.3623 C711.9956,829.3623 729.9956,829.3623 729.9956,839.3623 L729.9956,865.3623 C729.9956,875.3623 711.9956,875.3623 711.9956,875.3623 C711.9956,875.3623 693.9956,875.3623 693.9956,865.3623 L693.9956,839.3623 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M693.9956,839.3623 C693.9956,849.3623 711.9956,849.3623 711.9956,849.3623 C711.9956,849.3623 729.9956,849.3623 729.9956,839.3623 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="765.4785" x="0" y="97.8533"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="765.4785" y1="97.8533" y2="97.8533"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="765.4785" y1="100.8533" y2="100.8533"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="145.8027" x="309.8379" y="87.29"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="127.5181" x="315.8379" y="103.6743">Normal Replication</text><polygon fill="#181818" points="293.2998,137.543,303.2998,141.543,293.2998,145.543,297.2998,141.543" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.6792" x2="299.2998" y1="141.543" y2="141.543"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.6206" x="60.6792" y="136.769">AppendEntries [Log Index 100-101]</text><polygon fill="#181818" points="64.6792,166.6694,54.6792,170.6694,64.6792,174.6694,60.6792,170.6694" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.6792" x2="304.2998" y1="170.6694" y2="170.6694"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.9043" x="70.6792" y="165.8955">Ack (matchIndex=101)</text><polygon fill="#181818" points="442.6812,195.7959,452.6812,199.7959,442.6812,203.7959,446.6812,199.7959" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.6792" x2="448.6812" y1="199.7959" y2="199.7959"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.6206" x="60.6792" y="195.022">AppendEntries [Log Index 100-101]</text><polygon fill="#181818" points="64.6792,224.9224,54.6792,228.9224,64.6792,232.9224,60.6792,228.9224" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.6792" x2="453.6812" y1="228.9224" y2="228.9224"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.2456" x="70.6792" y="224.1484">Timeout / No Ack</text><path d="M5,241.9224 L5,266.9224 L503,266.9224 L503,251.9224 L493,241.9224 L5,241.9224 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M493,241.9224 L493,251.9224 L503,251.9224 L493,241.9224 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.2002" x="113.7354" y="259.2749">Replica 2 falls behind due to network delay</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="765.4785" x="0" y="292.6121"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="765.4785" y1="292.6121" y2="292.6121"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="765.4785" y1="295.6121" y2="295.6121"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="165.8804" x="299.7991" y="282.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="147.5957" x="305.7991" y="298.4331">Incremental Catch-Up</text><polygon fill="#181818" points="442.6812,332.3018,452.6812,336.3018,442.6812,340.3018,446.6812,336.3018" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.6792" x2="448.6812" y1="336.3018" y2="336.3018"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.8516" x="60.6792" y="331.5278">Retry AppendEntries [Index 100]</text><polygon fill="#181818" points="64.6792,361.4282,54.6792,365.4282,64.6792,369.4282,60.6792,365.4282" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.6792" x2="453.6812" y1="365.4282" y2="365.4282"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.0386" x="70.6792" y="360.6543">Partial Ack (matchIndex=99)</text><path d="M58,378.4282 L58,403.4282 L325,403.4282 L325,388.4282 L315,378.4282 L58,378.4282 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M315,378.4282 L315,388.4282 L325,388.4282 L315,378.4282 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.2129" x="64" y="395.7808">Leader tracks R2 using nextIndex=100</text><polygon fill="#181818" points="442.6812,425.6812,452.6812,429.6812,442.6812,433.6812,446.6812,429.6812" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.6792" x2="448.6812" y1="429.6812" y2="429.6812"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.4844" x="60.6792" y="424.9072">AppendEntries [Index 100-105]</text><polygon fill="#181818" points="64.6792,454.8076,54.6792,458.8076,64.6792,462.8076,60.6792,458.8076" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.6792" x2="453.6812" y1="458.8076" y2="458.8076"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.9043" x="70.6792" y="454.0337">Ack (matchIndex=105)</text><path d="M5,471.8076 L5,496.8076 L503,496.8076 L503,481.8076 L493,471.8076 L5,471.8076 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M493,471.8076 L493,481.8076 L503,481.8076 L493,471.8076 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.2764" x="152.6973" y="489.1602">Replica 2 still lags significantly</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="765.4785" x="0" y="522.4973"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="765.4785" y1="522.4973" y2="522.4973"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="765.4785" y1="525.4973" y2="525.4973"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="159.793" x="302.8428" y="511.9341"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="141.5083" x="308.8428" y="528.3184">Snapshot Installation</text><polygon fill="#181818" points="442.6812,562.187,452.6812,566.187,442.6812,570.187,446.6812,566.187" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.6792" x2="448.6812" y1="566.187" y2="566.187"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245.1084" x="60.6792" y="561.4131">InstallSnapshot [State up to Index 200]</text><polygon fill="#181818" points="699.9956,591.3135,709.9956,595.3135,699.9956,599.3135,703.9956,595.3135" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="454.6812" x2="705.9956" y1="595.3135" y2="595.3135"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233.3145" x="461.6812" y="590.5396">Replace local log with snapshot state</text><polygon fill="#181818" points="64.6792,620.4399,54.6792,624.4399,64.6792,628.4399,60.6792,624.4399" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.6792" x2="453.6812" y1="624.4399" y2="624.4399"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.1992" x="70.6792" y="619.666">Snapshot installed (matchIndex=200)</text><path d="M5,637.4399 L5,662.4399 L503,662.4399 L503,647.4399 L493,637.4399 L5,637.4399 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M493,637.4399 L493,647.4399 L503,647.4399 L493,637.4399 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.5957" x="143.5376" y="654.7925">Replica 2 catches up via snapshot</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="765.4785" x="0" y="688.1296"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="765.4785" y1="688.1296" y2="688.1296"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="765.4785" y1="691.1296" y2="691.1296"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="195.0542" x="285.2122" y="677.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="176.7695" x="291.2122" y="693.9507">Resume Normal Operation</text><polygon fill="#181818" points="442.6812,727.8193,452.6812,731.8193,442.6812,735.8193,446.6812,731.8193" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.6792" x2="448.6812" y1="731.8193" y2="731.8193"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.4844" x="60.6792" y="727.0454">AppendEntries [Index 201-205]</text><polygon fill="#181818" points="64.6792,756.9458,54.6792,760.9458,64.6792,764.9458,60.6792,760.9458" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.6792" x2="453.6812" y1="760.9458" y2="760.9458"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.2261" x="70.6792" y="756.1719">Ack</text><path d="M5,773.9458 L5,798.9458 L503,798.9458 L503,783.9458 L493,773.9458 L5,773.9458 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M493,773.9458 L493,783.9458 L503,783.9458 L493,773.9458 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.7036" x="175.9836" y="791.2983">All replicas now in sync</text><!--SRC=[ZP91Qzmm48Nl_XL3JhjGKzkGGmekXD93mBJ6QK-X1yMUjSNAaf36sUo_xyXUUvtTDFIgUNhptYTPuKZMqWfDS5CwsGjtl07XeOpiUbIXLR8MaCAcGw6eEsv7MPM-hyjWeqJRIjsUT5dK21BFmkEo1mhJJhkArV3iC8-hh8YYF8SVnlL2mKb0qcZ8ywY4-2l7-0Btrg9klcjo4ZqyyMruq0s-GfeaSPgaVw8gXPZ59MlhFMnwGNKtId8URqzEsNyvPRFJBzcZ6GW-SxnW6sb32EO57PIVWjcvpquevU4PEwaRQ0O4Cg2H3iRjeK4bZcFB1rqxx54JL_qM4iQ_xRddQ4ZCxYBZac-ThGmlmpQNRU_kjbDC9zkEmEo2k43HS6Xoeju7vZ1uVZqE-4epe-IVYDPuRjSHha7VRZz0v4ag1VnpF7ZPQhdZOqrg8lEeXVMT8KRacOww-09iT1eimgT74hngi07rb36R4OKRnRHRr0ZAr4nAyLCV97NWPmiV75Q55cyvxSBcJJ-s_wXV7PGCZ1EzIB5i6UjLw8SUvr_-qwAxBlWkzYn9u-mA-rMAUoRhfYGUj3bm0_17NVy5]--></g></svg>