<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1398px" preserveAspectRatio="none" style="width:1029px;height:1398px;background:#FFFFFF;" version="1.1" viewBox="0 0 1029 1398" width="1029px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="81.29" y2="1318.0957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="117.5049" x2="117.5049" y1="81.29" y2="1318.0957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="305.979" x2="305.979" y1="81.29" y2="1318.0957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="554.4702" x2="554.4702" y1="81.29" y2="1318.0957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="727.1006" x2="727.1006" y1="81.29" y2="1318.0957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="828.6826" x2="828.6826" y1="81.29" y2="1318.0957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="935.6484" x2="935.6484" y1="81.29" y2="1318.0957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1005.6143" x2="1005.6143" y1="81.29" y2="1318.0957"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="78.3027">Client</text><ellipse cx="27.7524" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.7524,21.5 L27.7524,48.5 M14.7524,29.5 L40.7524,29.5 M27.7524,48.5 L14.7524,63.5 M27.7524,48.5 L40.7524,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="1330.3984">Client</text><ellipse cx="27.7524" cy="1341.8857" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.7524,1349.8857 L27.7524,1376.8857 M14.7524,1357.8857 L40.7524,1357.8857 M27.7524,1376.8857 L14.7524,1391.8857 M27.7524,1376.8857 L40.7524,1391.8857 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7803" x="60.5049" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7803" x="67.5049" y="70.3027">Primary (down)</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7803" x="60.5049" y="1317.0957"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7803" x="67.5049" y="1337.3984">Primary (down)</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.7422" x="268.979" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.7422" x="275.979" y="70.3027">Replica 1</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.7422" x="268.979" y="1317.0957"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.7422" x="275.979" y="1337.3984">Replica 1</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.7422" x="517.4702" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.7422" x="524.4702" y="70.3027">Replica 2</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.7422" x="517.4702" y="1317.0957"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.7422" x="524.4702" y="1337.3984">Replica 2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.582" x="684.1006" y="78.3027">Primary Log</text><path d="M709.3916,29 C709.3916,19 727.3916,19 727.3916,19 C727.3916,19 745.3916,19 745.3916,29 L745.3916,55 C745.3916,65 727.3916,65 727.3916,65 C727.3916,65 709.3916,65 709.3916,55 L709.3916,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M709.3916,29 C709.3916,39 727.3916,39 727.3916,39 C727.3916,39 745.3916,39 745.3916,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.582" x="684.1006" y="1330.3984">Primary Log</text><path d="M709.3916,1343.3857 C709.3916,1333.3857 727.3916,1333.3857 727.3916,1333.3857 C727.3916,1333.3857 745.3916,1333.3857 745.3916,1343.3857 L745.3916,1369.3857 C745.3916,1379.3857 727.3916,1379.3857 727.3916,1379.3857 C727.3916,1379.3857 709.3916,1379.3857 709.3916,1369.3857 L709.3916,1343.3857 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M709.3916,1343.3857 C709.3916,1353.3857 727.3916,1353.3857 727.3916,1353.3857 C727.3916,1353.3857 745.3916,1353.3857 745.3916,1343.3857 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9658" x="780.6826" y="78.3027">Replica 1 Log</text><path d="M811.1655,29 C811.1655,19 829.1655,19 829.1655,19 C829.1655,19 847.1655,19 847.1655,29 L847.1655,55 C847.1655,65 829.1655,65 829.1655,65 C829.1655,65 811.1655,65 811.1655,55 L811.1655,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M811.1655,29 C811.1655,39 829.1655,39 829.1655,39 C829.1655,39 847.1655,39 847.1655,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9658" x="780.6826" y="1330.3984">Replica 1 Log</text><path d="M811.1655,1343.3857 C811.1655,1333.3857 829.1655,1333.3857 829.1655,1333.3857 C829.1655,1333.3857 847.1655,1333.3857 847.1655,1343.3857 L847.1655,1369.3857 C847.1655,1379.3857 829.1655,1379.3857 829.1655,1379.3857 C829.1655,1379.3857 811.1655,1379.3857 811.1655,1369.3857 L811.1655,1343.3857 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M811.1655,1343.3857 C811.1655,1353.3857 829.1655,1353.3857 829.1655,1353.3857 C829.1655,1353.3857 847.1655,1353.3857 847.1655,1343.3857 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9658" x="887.6484" y="78.3027">Replica 2 Log</text><path d="M918.1313,29 C918.1313,19 936.1313,19 936.1313,19 C936.1313,19 954.1313,19 954.1313,29 L954.1313,55 C954.1313,65 936.1313,65 936.1313,65 C936.1313,65 918.1313,65 918.1313,55 L918.1313,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M918.1313,29 C918.1313,39 936.1313,39 936.1313,39 C936.1313,39 954.1313,39 954.1313,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9658" x="887.6484" y="1330.3984">Replica 2 Log</text><path d="M918.1313,1343.3857 C918.1313,1333.3857 936.1313,1333.3857 936.1313,1333.3857 C936.1313,1333.3857 954.1313,1333.3857 954.1313,1343.3857 L954.1313,1369.3857 C954.1313,1379.3857 936.1313,1379.3857 936.1313,1379.3857 C936.1313,1379.3857 918.1313,1379.3857 918.1313,1369.3857 L918.1313,1343.3857 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M918.1313,1343.3857 C918.1313,1353.3857 936.1313,1353.3857 936.1313,1353.3857 C936.1313,1353.3857 954.1313,1353.3857 954.1313,1343.3857 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="22.7637" x="994.6143" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.7637" x="1001.6143" y="70.3027">X</text><rect fill="#E2E2F0" height="30.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="22.7637" x="994.6143" y="1317.0957"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.7637" x="1001.6143" y="1337.3984">X</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1022.3779" x="0" y="111.8533"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="111.8533" y2="111.8533"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="114.8533" y2="114.8533"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="138.0713" x="442.1533" y="101.29"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.7866" x="448.1533" y="117.6743">Normal Operation</text><polygon fill="#181818" points="294.8501,151.543,304.8501,155.543,294.8501,159.543,298.8501,155.543" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118.395" x2="300.8501" y1="155.543" y2="155.543"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.4551" x="125.395" y="150.769">AppendEntries (heartbeat)</text><polygon fill="#181818" points="543.3413,180.6694,553.3413,184.6694,543.3413,188.6694,547.3413,184.6694" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118.395" x2="549.3413" y1="184.6694" y2="184.6694"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.4551" x="125.395" y="179.8955">AppendEntries (heartbeat)</text><polygon fill="#181818" points="129.395,209.7959,119.395,213.7959,129.395,217.7959,125.395,213.7959" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123.395" x2="305.8501" y1="213.7959" y2="213.7959"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.2261" x="135.395" y="209.022">Ack</text><polygon fill="#181818" points="129.395,238.9224,119.395,242.9224,129.395,246.9224,125.395,242.9224" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123.395" x2="554.3413" y1="242.9224" y2="242.9224"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.2261" x="135.395" y="238.1484">Ack</text><path d="M73,255.9224 L73,280.9224 L600,280.9224 L600,265.9224 L590,255.9224 L73,255.9224 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M590,255.9224 L590,265.9224 L600,265.9224 L590,255.9224 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.0845" x="232.3115" y="273.2749">Cluster stable under P as leader</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1022.3779" x="0" y="306.6121"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="306.6121" y2="306.6121"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="309.6121" y2="309.6121"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="191.7407" x="415.3186" y="296.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.4561" x="421.3186" y="312.4331">Phase 1: Failure Detection</text><polygon fill="#FF0000" points="993.9961,346.3018,1003.9961,350.3018,993.9961,354.3018,997.9961,350.3018" style="stroke:#FF0000;stroke-width:1.0;"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="118.395" x2="999.9961" y1="350.3018" y2="350.3018"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.9019" x="125.395" y="345.5278">Primary crash / network loss</text><line style="stroke:#181818;stroke-width:1.0;" x1="306.8501" x2="348.8501" y1="379.4282" y2="379.4282"/><line style="stroke:#181818;stroke-width:1.0;" x1="348.8501" x2="348.8501" y1="379.4282" y2="392.4282"/><line style="stroke:#181818;stroke-width:1.0;" x1="307.8501" x2="348.8501" y1="392.4282" y2="392.4282"/><polygon fill="#181818" points="317.8501,388.4282,307.8501,392.4282,317.8501,396.4282,313.8501,392.4282" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.0503" x="313.8501" y="374.6543">Detect missing heartbeat</text><line style="stroke:#181818;stroke-width:1.0;" x1="555.3413" x2="597.3413" y1="421.5547" y2="421.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="597.3413" x2="597.3413" y1="421.5547" y2="434.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="556.3413" x2="597.3413" y1="434.5547" y2="434.5547"/><polygon fill="#181818" points="566.3413,430.5547,556.3413,434.5547,566.3413,438.5547,562.3413,434.5547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.0503" x="562.3413" y="416.7808">Detect missing heartbeat</text><path d="M271,447.5547 L271,487.5547 L590,487.5547 L590,457.5547 L580,447.5547 L271,447.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M580,447.5547 L580,457.5547 L590,457.5547 L580,447.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.4863" x="318.2668" y="464.9072">Election timeout exceeded</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.6997" x="318.2668" y="480.0337">No heartbeat received from leader</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1022.3779" x="0" y="513.3708"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="513.3708" y2="513.3708"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="516.3708" y2="516.3708"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="166.4707" x="427.9536" y="502.8076"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="148.186" x="433.9536" y="519.1919">Phase 2: Election Start</text><line style="stroke:#181818;stroke-width:1.0;" x1="306.8501" x2="348.8501" y1="557.0605" y2="557.0605"/><line style="stroke:#181818;stroke-width:1.0;" x1="348.8501" x2="348.8501" y1="557.0605" y2="570.0605"/><line style="stroke:#181818;stroke-width:1.0;" x1="307.8501" x2="348.8501" y1="570.0605" y2="570.0605"/><polygon fill="#181818" points="317.8501,566.0605,307.8501,570.0605,317.8501,574.0605,313.8501,570.0605" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.6636" x="313.8501" y="552.2866">Increment term, state=candidate</text><polygon fill="#181818" points="543.3413,595.187,553.3413,599.187,543.3413,603.187,547.3413,599.187" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.8501" x2="549.3413" y1="599.187" y2="599.187"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.4912" x="313.8501" y="594.4131">RequestVote(term+1, lastLogIndex)</text><polygon fill="#181818" points="924.1313,624.3135,934.1313,628.3135,924.1313,632.3135,928.1313,628.3135" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="555.3413" x2="930.1313" y1="628.3135" y2="628.3135"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.0469" x="562.3413" y="623.5396">Compare logs, vote if up-to-date</text><polygon fill="#181818" points="317.8501,653.4399,307.8501,657.4399,317.8501,661.4399,313.8501,657.4399" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="311.8501" x2="554.3413" y1="657.4399" y2="657.4399"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.8379" x="323.8501" y="652.666">VoteGranted</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1022.3779" x="0" y="686.0032"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="686.0032" y2="686.0032"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="689.0032" y2="689.0032"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="179.915" x="421.2314" y="675.4399"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161.6304" x="427.2314" y="691.8242">Phase 3: Leader Election</text><line style="stroke:#181818;stroke-width:1.0;" x1="306.8501" x2="348.8501" y1="744.8193" y2="744.8193"/><line style="stroke:#181818;stroke-width:1.0;" x1="348.8501" x2="348.8501" y1="744.8193" y2="757.8193"/><line style="stroke:#181818;stroke-width:1.0;" x1="307.8501" x2="348.8501" y1="757.8193" y2="757.8193"/><polygon fill="#181818" points="317.8501,753.8193,307.8501,757.8193,317.8501,761.8193,313.8501,757.8193" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.2603" x="313.8501" y="724.9189">Votes received (majority)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.2212" x="313.8501" y="740.0454">Become new leader</text><path d="M271,770.8193 L271,810.8193 L590,810.8193 L590,780.8193 L580,770.8193 L271,770.8193 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M580,770.8193 L580,780.8193 L590,780.8193 L580,770.8193 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.9014" x="368.2102" y="788.1719">New leader = R1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.813" x="368.2102" y="803.2983">Term incremented</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1022.3779" x="0" y="836.6355"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="836.6355" y2="836.6355"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="839.6355" y2="839.6355"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="232.2832" x="395.0474" y="826.0723"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="213.9985" x="401.0474" y="842.4565">Phase 4: Log Consistency Check</text><polygon fill="#181818" points="543.3413,891.4517,553.3413,895.4517,543.3413,899.4517,547.3413,895.4517" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.8501" x2="549.3413" y1="895.4517" y2="895.4517"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.311" x="313.8501" y="875.5513">AppendEntries (no-op heartbeat)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6245" x="313.8501" y="890.6777">Ensure log alignment</text><polygon fill="#181818" points="317.8501,920.5781,307.8501,924.5781,317.8501,928.5781,313.8501,924.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="311.8501" x2="554.3413" y1="924.5781" y2="924.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.2261" x="323.8501" y="919.8042">Ack</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1022.3779" x="0" y="953.1414"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="953.1414" y2="953.1414"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="956.1414" y2="956.1414"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="190.8457" x="415.7661" y="942.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="172.561" x="421.7661" y="958.9624">Phase 5: Cluster Recovery</text><polygon fill="#181818" points="294.8501,992.8311,304.8501,996.8311,294.8501,1000.8311,298.8501,996.8311" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.7524" x2="300.8501" y1="996.8311" y2="996.8311"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.8799" x="34.7524" y="992.0571">Redirected write request</text><polygon fill="#181818" points="817.1655,1021.9575,827.1655,1025.9575,817.1655,1029.9575,821.1655,1025.9575" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.8501" x2="823.1655" y1="1025.9575" y2="1025.9575"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.186" x="313.8501" y="1021.1836">Append log entry</text><polygon fill="#181818" points="543.3413,1051.084,553.3413,1055.084,543.3413,1059.084,547.3413,1055.084" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.8501" x2="549.3413" y1="1055.084" y2="1055.084"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.4634" x="313.8501" y="1050.3101">Replicate log entry</text><polygon fill="#181818" points="317.8501,1080.2104,307.8501,1084.2104,317.8501,1088.2104,313.8501,1084.2104" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="311.8501" x2="554.3413" y1="1084.2104" y2="1084.2104"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.2261" x="323.8501" y="1079.4365">Ack</text><polygon fill="#181818" points="817.1655,1109.3369,827.1655,1113.3369,817.1655,1117.3369,821.1655,1113.3369" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.8501" x2="823.1655" y1="1113.3369" y2="1113.3369"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.271" x="313.8501" y="1108.563">Commit entry</text><path d="M271,1126.3369 L271,1151.3369 L590,1151.3369 L590,1136.3369 L580,1126.3369 L271,1126.3369 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M580,1126.3369 L580,1136.3369 L590,1136.3369 L580,1126.3369 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244.9307" x="303.6514" y="1143.6895">Cluster recovered under new leader R1</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1022.3779" x="0" y="1177.0266"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="1177.0266" y2="1177.0266"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1022.3779" y1="1180.0266" y2="1180.0266"/><rect fill="#EEEEEE" height="23.1265" style="stroke:#000000;stroke-width:2.0;" width="207.0259" x="407.676" y="1166.4634"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="188.7412" x="413.676" y="1182.8477">Phase 6: Old Leader Returns</text><polygon fill="#181818" points="294.8501,1216.7163,304.8501,1220.7163,294.8501,1224.7163,298.8501,1220.7163" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118.395" x2="300.8501" y1="1220.7163" y2="1220.7163"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.0244" x="125.395" y="1215.9424">AppendEntries(term=old)</text><polygon fill="#181818" points="129.395,1245.8428,119.395,1249.8428,129.395,1253.8428,125.395,1249.8428" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123.395" x2="305.8501" y1="1249.8428" y2="1249.8428"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.0928" x="135.395" y="1245.0688">Reject (term stale)</text><path d="M73,1262.8428 L73,1302.8428 L352,1302.8428 L352,1272.8428 L342,1262.8428 L73,1262.8428 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M342,1262.8428 L342,1272.8428 L352,1272.8428 L342,1262.8428 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.313" x="101.4517" y="1280.1953">Old leader demoted automatically</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.5361" x="101.4517" y="1295.3218">Stale term rejected</text><!--SRC=[VPHDRnen48Rl_8fHUW4LL44_3aXRgQMqYeJ8QbDLbKeFZZq1Wp-sjXV2ly_OoxABI7fZcV7CyxupDkF1EfWfYIRqIkQ2vB9a9i1DxgHcxWXzOGzcS0FCGtwPKM2f96SmJi5Y_79qKaSdFS42Us0Usz8BkwxhBZh1SzLpk1Y_59-qyScYryioM5gdcOAx4XqBqXh8ibuEeyzKO0fVoXADc9lW97heRv1O7v25mIbbyh-KOWmZIiefX-zwnQJxPMn0i7jqa0zZbPcgVA0lJy0AeJ8YXYAdGaQ_4sg-YLe8wpkJgd88tp0Wxq3_UUDG_AKklwVGsCKTynju1mR3mReTAEjzGgiLrYL0I- -bMSCPF_7M2bzDQKKKuwHYhauuGMgqLG1yueW2nSeiRNiG77AKUnJmwAo-LjYjT1_eK9JN8jyQxb3JwW4vfeVHiu0PPqP86ZWscLIbm7yL-l2BEFinz-ru28hvG3jmImu_3Sug5pG2gsaLaGnQ-o7iepRv25Kv2dPKrwqd615YnH-EDXP5X_lz51P9Iuj_0HvF-LPyNxEjTJ8S1olp5RdLI4CwD7PScRiyno2Z_rRc9oa2sPXnGV9X6lUS91alQQyCFy9iWtpNuRbUNMD7jcodH5HpuwlQ4M1AhatiqxKXRdBRz6ExnWN98VHZx5S_4uq71Gf93X0k74WxaXrfHcUR5WrNQaidtV5YekaU1-n6Bu4wXMYaMePJsfMX3QohOOceldRj4EBprEhxD8Kx9PeH5nWgP_phpqNQkCmgqNq92jp6kvHYSN4L3Yx1yhh9gRz0RQDLh0fMq_F4cLB7bRcF1zFs4_mskVaC]--></g></svg>